<div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8">
  <div class="max-w-3xl mx-auto">
    <%= form_with(model: patient) do |form| %> <% if patient.errors.any? %>
        <div id="error_explanation">
          <h2>
            <%= pluralize(patient.errors.count, "error") %> prohibited this patient
            from being saved:
          </h2>
          <ul>
            <% patient.errors.each do |error| %>
              <li><%= error.full_message %></li>
            <% end %>
          </ul>
        </div>
      <% end %>
      <div class="mt-6 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6">
        <div class="sm:col-span-3 field">
          <%= form.label :full_name, class: "block text-sm font-medium
        text-gray-700" %>
          <div class="mt-1">
            <%= form.text_field :full_name, required: true, class: "shadow-sm
          focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm
          border-gray-300 rounded-md" %>
          </div>
        </div>
        <div class="sm:col-span-3 field">
          <%= form.label :dob, "Date of Birth", class: "block text-sm font-medium
        text-gray-700" %>
          <div class="mt-1">
            <%= form.date_field :dob, class: "shadow-sm focus:ring-indigo-500
          focus:border-indigo-500 block w-full sm:text-sm border-gray-300
          rounded-md" %>
          </div>
        </div>
        <div class="sm:col-span-3 field">
          <%= form.label :sex, "Sex", class: "block text-sm font-medium
        text-gray-700" %>
          <div class="mt-1">
            <%= form.select :sex, ["Male", "Female", "Others"], {:prompt => 'Select'}, class: "shadow-sm focus:ring-indigo-500
          focus:border-indigo-500 block w-full sm:text-sm border-gray-300
          rounded-md" %>
          </div>
        </div>
        <div class="sm:col-span-3 field">
          <%= form.label :phone, class: "block text-sm font-medium text-gray-700"
        %>
          <div class="mt-1">
            <%= form.text_field :phone, required: true, class: "shadow-sm focus:ring-indigo-500
          focus:border-indigo-500 block w-full sm:text-sm border-gray-300
          rounded-md" %>
          </div>
        </div>
        <div class="sm:col-span-3 field">
          <%= form.label :emergency_phone_no,"Emergency Phone No.", class: "block text-sm font-medium text-gray-700"
        %>
          <div class="mt-1">
            <%= form.text_field :emergency_phone_no, class: "shadow-sm focus:ring-indigo-500
          focus:border-indigo-500 block w-full sm:text-sm border-gray-300
          rounded-md" %>
          </div>
        </div>
        <div class="sm:col-span-3 field">
          <%= form.label :lsg_body, class: "block text-sm font-medium
        text-gray-700" %>
          <div class="mt-1">
            <%= form.select :lsg_body, LsgBody.all.to_a.map {|body| ["#{body.name} - #{body.kind}", body.id]}, {:prompt => 'Select'}, required: true, class: "shadow-sm focus:ring-indigo-500
          focus:border-indigo-500 block w-full sm:text-sm border-gray-300
          rounded-md" %>
          </div>
        </div>
        <div class="sm:col-span-3 field">
          <%= form.label :address, class: "block text-sm font-medium
        text-gray-700" %>
          <div class="mt-1">
            <%= form.text_area :address, required: true, class: "shadow-sm focus:ring-indigo-500
          focus:border-indigo-500 block w-full sm:text-sm border-gray-300
          rounded-md h-24" %>
          </div>
        </div>
        <div class="sm:col-span-3 field">
          <%= form.label :route, class: "block text-sm font-medium text-gray-700"
        %>
          <div class="mt-1">
            <%= form.text_area :route, class: "shadow-sm focus:ring-indigo-500
          focus:border-indigo-500 block w-full sm:text-sm border-gray-300
          rounded-md h-24" %>
          </div>
        </div>
        <div class="sm:col-span-3 field">
          <%= form.label :notes, class: "block text-sm font-medium text-gray-700"
        %>
          <div class="mt-1">
            <%= form.text_area :notes, class: "shadow-sm focus:ring-indigo-500
          focus:border-indigo-500 block w-full sm:text-sm border-gray-300
          rounded-md h-24" %>
          </div>
        </div>
        <div class="sm:col-span-3 field">
          <%= form.label :volunteer, class: "block text-sm font-medium
        text-gray-700" %>
          <div class="mt-1 overflow-y-scroll h-24 py-3 px-2">
            <% User.volunteers.each do |member| %>
              <%= render partial:"checkbox", locals: {
              user_id: member.id,
              user_name: member.full_name,
              form: form,
              checked: !@patient.users.volunteers.find_by_id(member.id).nil?,
            } %>
            <% end %>
          </div>
        </div>
        <div class="sm:col-span-3 field">
          <%= form.label :economic_status, class: "block text-sm font-medium
        text-gray-700" %>
          <div class="mt-1">
            <%= form.select :economic_status, ["Well-Off", "Middle Class", "Poor",
          "Very Poor"], {:prompt => 'Select'}, class: "shadow-sm focus:ring-indigo-500
          focus:border-indigo-500 block w-full sm:text-sm border-gray-300
          rounded-md" %>
          </div>
        </div>
         <div class="sm:col-span-3 field">
          <%= form.label :disease, class: "block text-sm font-medium text-gray-700"
        %>
          <div class="mt-1">
            <%= form.text_field :disease, required: true, class: "shadow-sm focus:ring-indigo-500
          focus:border-indigo-500 block w-full sm:text-sm border-gray-300
          rounded-md" %>
          </div>
        </div>
        <div class="sm:col-span-3 field">
          <%= form.label :asha_member, class: "block text-sm font-medium
        text-gray-700" %>
          <div class="mt-1">
            <%= form.select :asha_member, User.ashas.to_a.map {|member| [member.full_name, member.id]}, {:prompt => 'Select'}, class: "shadow-sm focus:ring-indigo-500
          focus:border-indigo-500 block w-full sm:text-sm border-gray-300
          rounded-md" %>
          </div>
        </div>
        <div class="sm:col-span-3 field">
          <%= form.label :facility_id, class: "block text-sm font-medium
        text-gray-700" %>
          <div class="mt-1">
            <%= form.select :facility_id, Facility.all.to_a.map {|facility| [facility.name, facility.id]}, {:prompt => 'Select'}, class: "shadow-sm focus:ring-indigo-500
          focus:border-indigo-500 block w-full sm:text-sm border-gray-300
          rounded-md" %>
          </div>
        </div>
        <div class="sm:col-span-3 field">
          <%= form.label :reported_by, class: "block text-sm font-medium
        text-gray-700" %>
          <div class="mt-1">
            <%= form.select :reported_by, User.all.to_a.map {|member| ["#{member.full_name} - #{member.role}", member.id]}, {:prompt => 'Select'}, required: true, class: "shadow-sm focus:ring-indigo-500
          focus:border-indigo-500 block w-full sm:text-sm border-gray-300
          rounded-md" %>
          </div>
        </div>
        <%# <div id="familyform" class="sm:col-span-6">
        </div>
        <script>
          FamilyManager.start("familyform")
        </script> %>
      </div>
      <div class="actions">
        <%= form.submit class: "mt-4 inline-flex justify-center py-2 px-4 border
      border-transparent shadow-sm text-sm font-medium rounded-md text-white
      bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2
      focus:ring-offset-2 focus:ring-indigo-500" %>
      </div>
    <% end %>
  </div>
</div>
